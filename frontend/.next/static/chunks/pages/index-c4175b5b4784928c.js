(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1854)}])},1854:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(5893);a(7294);var r=a(3934),n=a(6190),c=a(1821),o=a(8445),l=a(1318),i=a(8070);function d(){let{data:e,isLoading:t}=(0,r.a)({queryKey:["products","featured"],queryFn:()=>i.fi.getAll({limit:12})});return(0,s.jsx)(n.Z,{title:"Yarnitt - Handmade. Heartmade.",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsxs)("section",{className:"card mb-8 text-center py-12",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-brown-700 mb-4",children:"Handmade. Heartmade."}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover beautiful crochet goods from talented Kenyan artisans"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,s.jsx)("aside",{className:"lg:col-span-1",children:(0,s.jsx)(o.Z,{})}),(0,s.jsxs)("section",{className:"lg:col-span-3",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Featured Products"}),t?(0,s.jsx)(l.Z,{text:"Loading products..."}):(0,s.jsx)(c.Z,{products:e||[],emptyMessage:"No products available at the moment"})]})]})]})})}},1318:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{size:t="md",text:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"loading-spinner ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t])}),a&&(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:a})]})}a(7294)},1821:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(5893);a(7294);var r=a(1664),n=a.n(r),c=a(7865),o=a(4777),l=a(5536),i=a(6501);function d(e){var t,a;let{product:r}=e,d=(0,l.x)(e=>e.addItem),u=(null===(a=r.images)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.url)||"/images/placeholder.jpg";return(0,s.jsx)(n(),{href:"/product/".concat(r._id),children:(0,s.jsxs)("div",{className:"product-card group cursor-pointer",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-md bg-gray-100 aspect-square",children:[(0,s.jsx)("img",{src:u,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),0===r.stock&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate group-hover:text-brown-600 transition-colors",children:r.name}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-brown-700",children:(0,o.T4)(r.price)}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),d(r,1),i.ZP.success("Added to cart!")},disabled:0===r.stock,className:"p-2 bg-brown-600 text-white rounded-button hover:bg-brown-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add to cart",children:(0,s.jsx)(c.Z,{size:18})})]}),r.stock>0&&r.stock<=5&&(0,s.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:["Only ",r.stock," left!"]})]})]})})}function u(e){let{products:t,emptyMessage:a="No products found"}=e;return 0===t.length?(0,s.jsx)("div",{className:"col-span-full flex flex-col items-center justify-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:a})}):(0,s.jsx)("div",{className:"product-grid",children:t.map(e=>(0,s.jsx)(d,{product:e},e._id))})}},8445:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(5893);a(7294);var r=a(1664),n=a.n(r),c=a(1163),o=a(4777);let l=[{name:"All",slug:""},{name:"Clothing",slug:"clothing"},{name:"Plushies",slug:"plushies"},{name:"Bags",slug:"bags"},{name:"Home D\xe9cor",slug:"home-decor"},{name:"Accessories",slug:"accessories"},{name:"Eco Collection",slug:"eco-collection"}];function i(){let e=(0,c.useRouter)().query.category;return(0,s.jsxs)("div",{className:"sidebar sticky top-24",children:[(0,s.jsx)("h2",{className:"font-bold text-lg mb-4",children:"Categories"}),(0,s.jsx)("ul",{className:"space-y-2",children:l.map(t=>{let a=t.slug===(e||""),r=t.slug?"/shop?category=".concat(t.slug):"/shop";return(0,s.jsx)("li",{children:(0,s.jsx)(n(),{href:r,className:(0,o.cn)("block px-3 py-2 rounded-button transition-colors",a?"bg-brown-100 text-brown-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:t.name})},t.slug)})})]})}},8070:function(e,t,a){"use strict";a.d(t,{fi:function(){return o},g8:function(){return i},iJ:function(){return c},kn:function(){return l}});var s=a(7066),r=a(4777);let n=s.Z.create({baseURL:"http://localhost:4000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=(0,r.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&((0,r.H6)(),window.location.href="/auth/login"),Promise.reject(e)});let c={login:async e=>(await n.post("/api/auth/login",e)).data,register:async e=>(await n.post("/api/auth/register",e)).data,logout:async()=>{(0,r.H6)()}},o={getAll:async e=>(await n.get("/products",{params:e})).data,getById:async e=>(await n.get("/products/".concat(e))).data,getBySeller:async e=>(await n.get("/products/seller/".concat(e))).data},l={create:async e=>(await n.post("/api/orders",e)).data,getBuyerOrders:async()=>(await n.get("/api/orders/buyer")).data,getById:async e=>(await n.get("/api/orders/".concat(e))).data,cancelOrder:async e=>(await n.patch("/api/orders/".concat(e,"/cancel"))).data},i={getById:async e=>(await n.get("/api/users/".concat(e))).data,updateProfile:async(e,t)=>(await n.patch("/api/users/".concat(e),t)).data}}},function(e){e.O(0,[843,66,934,479,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);