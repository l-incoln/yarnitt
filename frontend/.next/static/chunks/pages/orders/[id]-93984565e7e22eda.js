(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{1395:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[id]",function(){return a(6022)}])},3350:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(3759).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3156:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(3759).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},6022:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var t=a(5893),r=a(7294),n=a(1163),c=a(3934),i=a(6190),l=a(1318),d=a(4665),o=a(8070),x=a(4777),m=a(3156),p=a(3350);let h=(0,a(3759).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);function u(){let e=(0,n.useRouter)(),{id:s}=e.query,a=(0,d.t)(e=>e.isAuthenticated);(0,r.useEffect)(()=>{a||e.push("/auth/login?redirect=/orders")},[a,e]);let{data:u,isLoading:j,error:y}=(0,c.a)({queryKey:["order",s],queryFn:()=>o.kn.getById(s),enabled:!!s&&a});return a?j?(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsx)(l.Z,{text:"Loading order details..."})})}):y||!u?(0,t.jsx)(i.Z,{children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"card text-center py-12",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"The order you're looking for doesn't exist."}),(0,t.jsx)("button",{onClick:()=>e.push("/orders"),className:"btn-primary",children:"Back to Orders"})]})})}):(0,t.jsx)(i.Z,{title:"Order ".concat(u.orderNumber," - Yarnitt"),children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Order Details"}),(0,t.jsx)("span",{className:"px-4 py-2 rounded-button ".concat((0,x.OY)(u.status)),children:u.status})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(m.Z,{size:20,className:"text-brown-600"}),(0,t.jsx)("h2",{className:"font-bold text-xl",children:"Order Items"})]}),(0,t.jsx)("div",{className:"space-y-4",children:u.items.map((e,s)=>{var a,r;let n="object"==typeof e.product?e.product:null;return(0,t.jsx)("div",{className:"flex gap-4 pb-4 border-b last:border-b-0",children:n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:(null===(r=n.images)||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.url)||"/images/placeholder.jpg",alt:n.name,className:"w-20 h-20 object-cover rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium",children:n.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,x.T4)(e.price)," each"]})]}),(0,t.jsx)("p",{className:"font-bold text-brown-700",children:(0,x.T4)(e.price*e.quantity)})]})},s)})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(p.Z,{size:20,className:"text-brown-600"}),(0,t.jsx)("h2",{className:"font-bold text-xl",children:"Shipping Address"})]}),(0,t.jsxs)("div",{className:"text-gray-700",children:[(0,t.jsx)("p",{className:"font-medium",children:u.shippingAddress.fullName}),(0,t.jsx)("p",{children:u.shippingAddress.phone}),(0,t.jsx)("p",{className:"mt-2",children:u.shippingAddress.address}),(0,t.jsxs)("p",{children:[u.shippingAddress.city,u.shippingAddress.postalCode&&", ".concat(u.shippingAddress.postalCode)]}),(0,t.jsx)("p",{children:u.shippingAddress.country})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(h,{size:20,className:"text-brown-600"}),(0,t.jsx)("h2",{className:"font-bold text-xl",children:"Payment Method"})]}),(0,t.jsx)("p",{className:"text-gray-700 capitalize",children:u.paymentMethod})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"card sticky top-24",children:[(0,t.jsx)("h2",{className:"font-bold text-xl mb-4",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Order Number"}),(0,t.jsx)("span",{className:"font-medium",children:u.orderNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Order Date"}),(0,t.jsx)("span",{className:"font-medium",children:(0,x.p6)(u.createdAt)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,t.jsx)("span",{className:"font-medium",children:(0,x.T4)(u.subtotal)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,t.jsx)("span",{className:"font-medium",children:(0,x.T4)(u.shippingCost)})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4 flex justify-between text-lg",children:[(0,t.jsx)("span",{className:"font-bold",children:"Total"}),(0,t.jsx)("span",{className:"font-bold text-brown-700",children:(0,x.T4)(u.total)})]})]})})]})]})}):null}},1318:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5893);function r(e){let{size:s="md",text:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"loading-spinner ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[s])}),a&&(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:a})]})}a(7294)},8070:function(e,s,a){"use strict";a.d(s,{fi:function(){return i},g8:function(){return d},iJ:function(){return c},kn:function(){return l}});var t=a(7066),r=a(4777);let n=t.Z.create({baseURL:"http://localhost:4000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let s=(0,r.bW)();return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var s;return(null===(s=e.response)||void 0===s?void 0:s.status)===401&&((0,r.H6)(),window.location.href="/auth/login"),Promise.reject(e)});let c={login:async e=>(await n.post("/api/auth/login",e)).data,register:async e=>(await n.post("/api/auth/register",e)).data,logout:async()=>{(0,r.H6)()}},i={getAll:async e=>(await n.get("/products",{params:e})).data,getById:async e=>(await n.get("/products/".concat(e))).data,getBySeller:async e=>(await n.get("/products/seller/".concat(e))).data},l={create:async e=>(await n.post("/api/orders",e)).data,getBuyerOrders:async()=>(await n.get("/api/orders/buyer")).data,getById:async e=>(await n.get("/api/orders/".concat(e))).data,cancelOrder:async e=>(await n.patch("/api/orders/".concat(e,"/cancel"))).data},d={getById:async e=>(await n.get("/api/users/".concat(e))).data,updateProfile:async(e,s)=>(await n.patch("/api/users/".concat(e),s)).data}}},function(e){e.O(0,[843,66,934,479,888,774,179],function(){return e(e.s=1395)}),_N_E=e.O()}]);