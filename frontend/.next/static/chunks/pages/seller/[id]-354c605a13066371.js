(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{8813:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/[id]",function(){return a(3662)}])},116:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(3759).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]])},3662:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(5893);a(7294);var r=a(1163),n=a(3934),c=a(6190),i=a(1821),l=a(1318),o=a(8070),d=a(116),u=a(6691),x=a(1700);function h(){let e=(0,r.useRouter)(),{id:t}=e.query,{data:a,isLoading:h}=(0,n.a)({queryKey:["seller",t],queryFn:()=>o.g8.getById(t),enabled:!!t}),{data:p,isLoading:m}=(0,n.a)({queryKey:["products","seller",t],queryFn:()=>o.fi.getBySeller(t),enabled:!!t});return h?(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,s.jsx)(l.Z,{text:"Loading seller profile..."})})}):a?(0,s.jsx)(c.Z,{title:"".concat(a.shopName||a.name," - Yarnitt"),children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"card mb-8",children:(0,s.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-brown-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(d.Z,{size:48,className:"text-brown-600"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:a.shopName||a.name}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Artisan since ",new Date(a.createdAt).getFullYear()]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[a.email&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,s.jsx)(u.Z,{size:16}),(0,s.jsx)("span",{children:a.email})]}),a.phone&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,s.jsx)(x.Z,{size:16}),(0,s.jsx)("span",{children:a.phone})]})]})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Products by ",a.shopName||a.name]}),m?(0,s.jsx)(l.Z,{text:"Loading products..."}):(0,s.jsx)(i.Z,{products:p||[],emptyMessage:"This seller has no products available at the moment"})]})]})}):(0,s.jsx)(c.Z,{children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"card text-center py-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Seller Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The seller you're looking for doesn't exist."}),(0,s.jsx)("button",{onClick:()=>e.push("/shop"),className:"btn-primary",children:"Back to Shop"})]})})})}},1318:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(5893);function r(e){let{size:t="md",text:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)("div",{className:"loading-spinner ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t])}),a&&(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:a})]})}a(7294)},1821:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var s=a(5893);a(7294);var r=a(1664),n=a.n(r),c=a(7865),i=a(4777),l=a(5536),o=a(6501);function d(e){var t,a;let{product:r}=e,d=(0,l.x)(e=>e.addItem),u=(null===(a=r.images)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.url)||"/images/placeholder.jpg";return(0,s.jsx)(n(),{href:"/product/".concat(r._id),children:(0,s.jsxs)("div",{className:"product-card group cursor-pointer",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-md bg-gray-100 aspect-square",children:[(0,s.jsx)("img",{src:u,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),0===r.stock&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate group-hover:text-brown-600 transition-colors",children:r.name}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-brown-700",children:(0,i.T4)(r.price)}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),d(r,1),o.ZP.success("Added to cart!")},disabled:0===r.stock,className:"p-2 bg-brown-600 text-white rounded-button hover:bg-brown-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add to cart",children:(0,s.jsx)(c.Z,{size:18})})]}),r.stock>0&&r.stock<=5&&(0,s.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:["Only ",r.stock," left!"]})]})]})})}function u(e){let{products:t,emptyMessage:a="No products found"}=e;return 0===t.length?(0,s.jsx)("div",{className:"col-span-full flex flex-col items-center justify-center py-12",children:(0,s.jsx)("p",{className:"text-gray-500 text-lg",children:a})}):(0,s.jsx)("div",{className:"product-grid",children:t.map(e=>(0,s.jsx)(d,{product:e},e._id))})}},8070:function(e,t,a){"use strict";a.d(t,{fi:function(){return i},g8:function(){return o},iJ:function(){return c},kn:function(){return l}});var s=a(7066),r=a(4777);let n=s.Z.create({baseURL:"http://localhost:4000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=(0,r.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&((0,r.H6)(),window.location.href="/auth/login"),Promise.reject(e)});let c={login:async e=>(await n.post("/api/auth/login",e)).data,register:async e=>(await n.post("/api/auth/register",e)).data,logout:async()=>{(0,r.H6)()}},i={getAll:async e=>(await n.get("/products",{params:e})).data,getById:async e=>(await n.get("/products/".concat(e))).data,getBySeller:async e=>(await n.get("/products/seller/".concat(e))).data},l={create:async e=>(await n.post("/api/orders",e)).data,getBuyerOrders:async()=>(await n.get("/api/orders/buyer")).data,getById:async e=>(await n.get("/api/orders/".concat(e))).data,cancelOrder:async e=>(await n.patch("/api/orders/".concat(e,"/cancel"))).data},o={getById:async e=>(await n.get("/api/users/".concat(e))).data,updateProfile:async(e,t)=>(await n.patch("/api/users/".concat(e),t)).data}}},function(e){e.O(0,[843,66,934,479,888,774,179],function(){return e(e.s=8813)}),_N_E=e.O()}]);