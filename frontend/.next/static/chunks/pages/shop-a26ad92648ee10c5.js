(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[800],{7443:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return s(8619)}])},8619:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),r=s(7294),n=s(1163),c=s(3934),o=s(6190),l=s(1821),i=s(8445),d=s(1318),u=s(3759);let h=(0,u.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,u.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=s(4777);function m(e){let{currentPage:t,totalPages:s,onPageChange:n}=e,c=Array.from({length:s},(e,t)=>t+1).filter(e=>!!(s<=7||1===e||e===s||1>=Math.abs(e-t)));return(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[(0,a.jsx)("button",{onClick:()=>n(t-1),disabled:1===t,className:"p-2 rounded-button hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(h,{size:20})}),c.map((e,s)=>{let o=c[s-1],l=o&&e-o>1;return(0,a.jsxs)(r.Fragment,{children:[l&&(0,a.jsx)("span",{className:"px-2",children:"..."}),(0,a.jsx)("button",{onClick:()=>n(e),className:(0,g.cn)("px-4 py-2 rounded-button",e===t?"bg-brown-600 text-white":"hover:bg-gray-100"),children:e})]},e)}),(0,a.jsx)("button",{onClick:()=>n(t+1),disabled:t===s,className:"p-2 rounded-button hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(p,{size:20})})]})}var x=s(8070);function f(){let e=(0,n.useRouter)(),{category:t,search:s,page:r="1"}=e.query,u=parseInt(r),{data:h,isLoading:p}=(0,c.a)({queryKey:["products",t,s,u],queryFn:()=>x.fi.getAll({category:t,search:s,page:u,limit:12})});return(0,a.jsx)(o.Z,{title:"Shop - Yarnitt",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Shop All Products"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("aside",{className:"lg:col-span-1",children:(0,a.jsx)(i.Z,{})}),(0,a.jsxs)("section",{className:"lg:col-span-3",children:[s&&(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Showing results for: ",(0,a.jsxs)("span",{className:"font-medium",children:['"',s,'"']})]}),p?(0,a.jsx)(d.Z,{text:"Loading products..."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{products:h||[],emptyMessage:"No products found. Try adjusting your search or filters."}),h&&h.length>0&&(0,a.jsx)(m,{currentPage:u,totalPages:5,onPageChange:t=>{e.push({pathname:"/shop",query:{...e.query,page:t}})}})]})]})]})]})})}},1318:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(5893);function r(e){let{size:t="md",text:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)("div",{className:"loading-spinner ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t])}),s&&(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:s})]})}s(7294)},1821:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});var a=s(5893);s(7294);var r=s(1664),n=s.n(r),c=s(7865),o=s(4777),l=s(5536),i=s(6501);function d(e){var t,s;let{product:r}=e,d=(0,l.x)(e=>e.addItem),u=(null===(s=r.images)||void 0===s?void 0:null===(t=s[0])||void 0===t?void 0:t.url)||"/images/placeholder.jpg";return(0,a.jsx)(n(),{href:"/product/".concat(r._id),children:(0,a.jsxs)("div",{className:"product-card group cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-md bg-gray-100 aspect-square",children:[(0,a.jsx)("img",{src:u,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),0===r.stock&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 truncate group-hover:text-brown-600 transition-colors",children:r.name}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-lg font-bold text-brown-700",children:(0,o.T4)(r.price)}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),d(r,1),i.ZP.success("Added to cart!")},disabled:0===r.stock,className:"p-2 bg-brown-600 text-white rounded-button hover:bg-brown-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Add to cart",children:(0,a.jsx)(c.Z,{size:18})})]}),r.stock>0&&r.stock<=5&&(0,a.jsxs)("p",{className:"text-xs text-orange-600 mt-1",children:["Only ",r.stock," left!"]})]})]})})}function u(e){let{products:t,emptyMessage:s="No products found"}=e;return 0===t.length?(0,a.jsx)("div",{className:"col-span-full flex flex-col items-center justify-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:s})}):(0,a.jsx)("div",{className:"product-grid",children:t.map(e=>(0,a.jsx)(d,{product:e},e._id))})}},8445:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(5893);s(7294);var r=s(1664),n=s.n(r),c=s(1163),o=s(4777);let l=[{name:"All",slug:""},{name:"Clothing",slug:"clothing"},{name:"Plushies",slug:"plushies"},{name:"Bags",slug:"bags"},{name:"Home D\xe9cor",slug:"home-decor"},{name:"Accessories",slug:"accessories"},{name:"Eco Collection",slug:"eco-collection"}];function i(){let e=(0,c.useRouter)().query.category;return(0,a.jsxs)("div",{className:"sidebar sticky top-24",children:[(0,a.jsx)("h2",{className:"font-bold text-lg mb-4",children:"Categories"}),(0,a.jsx)("ul",{className:"space-y-2",children:l.map(t=>{let s=t.slug===(e||""),r=t.slug?"/shop?category=".concat(t.slug):"/shop";return(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:r,className:(0,o.cn)("block px-3 py-2 rounded-button transition-colors",s?"bg-brown-100 text-brown-700 font-medium":"text-gray-700 hover:bg-gray-100"),children:t.name})},t.slug)})})]})}},8070:function(e,t,s){"use strict";s.d(t,{fi:function(){return o},g8:function(){return i},iJ:function(){return c},kn:function(){return l}});var a=s(7066),r=s(4777);let n=a.Z.create({baseURL:"http://localhost:4000",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=(0,r.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&((0,r.H6)(),window.location.href="/auth/login"),Promise.reject(e)});let c={login:async e=>(await n.post("/api/auth/login",e)).data,register:async e=>(await n.post("/api/auth/register",e)).data,logout:async()=>{(0,r.H6)()}},o={getAll:async e=>(await n.get("/products",{params:e})).data,getById:async e=>(await n.get("/products/".concat(e))).data,getBySeller:async e=>(await n.get("/products/seller/".concat(e))).data},l={create:async e=>(await n.post("/api/orders",e)).data,getBuyerOrders:async()=>(await n.get("/api/orders/buyer")).data,getById:async e=>(await n.get("/api/orders/".concat(e))).data,cancelOrder:async e=>(await n.patch("/api/orders/".concat(e,"/cancel"))).data},i={getById:async e=>(await n.get("/api/users/".concat(e))).data,updateProfile:async(e,t)=>(await n.patch("/api/users/".concat(e),t)).data}}},function(e){e.O(0,[843,66,934,479,888,774,179],function(){return e(e.s=7443)}),_N_E=e.O()}]);